IoT architecture - HW layer of IoT

## PSU - Power Supply Unit - взима от външен feeder и след това го преобръща в нужните ни волтажи и ампери.
- Power feeder - това храни схемата с енергия - контакта(power grid), батерия(storage - когато и управляваме процеса на зареждане. Има външен feeder за батерията, а наша отговорност е да се следи състоянието, нивото й и т.н.  
and feeder - когато черпим ток от нея)

- Requirements:
    - input voltage - амплитуда, честота, DC/AC, 
    - output voltage - 3.3V, 5V
    - continuous current consumption - 10mA например за 10 часа => 100mAh
    - peak current consumption - 100mA например за 1 секунда
    - КПД - коэффициент полезного действия - 80% например, останалото например се губи като топлина
    - охлаждане - топлината се изхвърля навън като се избягват вентилатори, защото много лесно се цапат. Сремим се към пасивно охлаждане
    - derating/grade - когато се използва в различни условия - например във вакум, на височина, на висока температура
    - изолация на захранването - например ако удари светкавица, няма да се пренесе на микроконтролера. Галванично разделяне например е ако взимаме DC захранване, правим го AC, трансформираме на по-малко AC(Тук е вече разстоянието) и после пак го правим DC
    - диагностика софтуерна и хардуерна

- Feeders
    - line power - high voltage, няма ограничения колко ще смучем
    - battery - ограничен ток, 

- Line powered
    - AC/DC - преобразува AC в DC. DC не си обръща поляритета. Затова реално ни трябва постоянно стабилиризано напрежение
    - PoE - Power over Ethernet - PoE injector - вкарва ток в мрежовия кабел, а PoE splitter - взима ток от мрежовия кабел

- Battery powered
    - Капацитет
    - Зареждане - като свърши
    - Брой цикли на зареждане - cycle life
    - form factor - размери
    - температурен диапазон
    - химия на батерията - Li-Ion, Li-Po, Ni-MH, Ni-Cd
    - регулация на батериите - не може да се вози например в самолет
    - как се извеждат от употреба - може да се рециклират, може да се изхвърлят
    - напрежение спряма колко са заредени - Li-Ion са с постоянно напрежение до 20% останали и след това пада рязко, а Lead Acid са с постоянно напрежение до 80% останали и след това пада постепенно и започва да смуче повече ток и да се разрежда по-бързо

- Energy harvester
    - с кинетична енергия - като се движи(динамо, ВЕЦ, вятърна енергия)
    - с радиация - соларни панели, 

Повече енергия ни трябва за да стигнем по-далеч (GSM)

За да се регуира при изправянето на тока, се използва RLDO - Low Dropout Regulator - който е по-бърз от LDO - Linear Dropout Regulator. Той си променя съпротивлението, за да се регулира напрежението и той да не мърда. Има вариращо КПД, спрямо разликата между входното и изходното напрежение.


Buck/BOOST convertor - 90% efficiency без значение от вх напрежение. Ако вх напрежение падне под-необходимото, може да го BOOST-нем. Много по-скъпо, комплексно и с много шум.
